<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="../vue/js/vue.js"></script>
    <link rel="stylesheet" href="./index-4-2.css">
    <title>MyToDos</title>
</head>
<body>
    <div class="container" id="vue">
        <h3>MyToDos</h3>
        <fieldset>
            <legend>待办事项管理助手</legend>
            <input type="text" placeholder="请输入待办事项" v-model.trim.lazy="newTodo"><input type="button" value="添加" @click="addItem">
            <div id="itemsField">
                <ol>
                    <li v-for="item in itemArray" :key="item.id">
                        <!-- 这里绑定的是计算属性itemArray但实际上，修改它的值原items对象数组也会发生改变； -->
                        <input type="checkbox" @click="item.state=!item.state" :checked="!item.state">
                        <span :class="{'itemClass':true,'itemDone':!item.state}">{{item.content}}</span>
                        <span class="cancelClass" @click="delOne(item.id)">×</span>
                    </li>
                </ol>
                <span v-show="notDoneCount==total | itemState!=0">共有{{itemArray.length}}项</span>
                <span v-show="itemState==0 & notDoneCount!=total">剩余{{notDoneCount}}项</span>
                <button @click="itemState=0">全部</button>
                <button @click="itemState=1">待完成</button>
                <button @click="itemState=2">已完成</button>
                <button v-show="!(itemState==1 | notDoneCount==total)" @click="clearDone">清除完成</button>
            </div>
        </fieldset>
    </div>
    <script type="text/javascript" src="./index-4-2.js"></script>
</body>
</html>